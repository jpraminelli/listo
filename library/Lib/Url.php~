<?php

class Magic_Url
{

    public static function gerar($texto)
    {
        return self::converter($texto);
    }

    public static function converter($texto)
    {
        $newText = strtr($texto, 'באדגהיטךכםלמןףעפץצתשחְֱֲֳִָֹֻּֽ־ֿ׃ׂװױײַ', 'aaaaaeeeeiiiiooooouuuucAAAAAEEEEIIIIOOOOOUUUUC');
        //$newText = iconv('UTF-8', 'ASCII//TRANSLIT', $newText);
        $newText = preg_replace("/[^a-zA-Z0-9\/_| -]/", '', $newText);
        $newText = strtolower(trim($newText, '-'));
        $newText = preg_replace("/[\/_| -]+/", '-', $newText);

        return !empty($newText) ? $newText : "#";
    }

}